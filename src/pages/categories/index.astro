---
import ProductCard from "@components/resources/ProductCard.astro";
import Products from "@layouts/LayoutProducts.astro";

// Configurar revalidación para esta página
export const config = {
  revalidate: 30, // Revalidar cada 30 segundos
};

import { getAllProducts } from "@lib/get-products";
const allProducts = await getAllProducts();
---

<Products>
  {
    allProducts.map((product) => {
      const { name, description, image, price, sku } = product;
      console.log(product);
      return (
        <ProductCard title={name} image={image.url} price={price} sku={sku}>
          {description}
        </ProductCard>
      );
    })
  }
</Products>
