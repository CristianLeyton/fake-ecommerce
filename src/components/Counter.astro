---
import fireworksNavidad from "@components/resources/images/christmas3.webp";
import fireworksNewyear from "@components/resources/images/newyear3.webp";
---

<div class="flex flex-wrap w-full gap-4 font-metronic">

<div
  class="relative rounded-3xl outline outline-2 outline-white dark:outline-neutral-200 dark:saturate-[0.8] saturate-[1.2] shadow-xl -outline-offset-[12px] w-full bg-black bg-center bg-cover flex items-center justify-center"
  style=`background-image: url('${fireworksNavidad.src}');`
>
     <div class="counter text-white flex flex-col w-full gap-2 inset-0 m-5 rounded-xl *:bg-gray-950/20 *:backdrop-blur-[2px] font-bold">
        <div class="flex flex-col items-center p-7 rounded-xl gap-1 counterNavidad">
            <h4 class="text-2xl md:text-xl  xl:text-3xl text-nowrap">TAN SOLO <span class="text-orange-500">FALTAN</span></h4>
            <p id="counterNavidad" class="text-4xl xl:text-5xl text-center text-nowrap">0 dias <br class="md:hidden"/><span>00</span>:<span>00</span>:<span>00</span></p>
            <h4 class="text-2xl md:text-xl xl:text-3xl ">PARA <span class="text-orange-500">NAVIDAD</span></h4>
        </div> 
    </div>  
</div>

<div
  class="relative rounded-3xl outline outline-2 outline-white dark:outline-neutral-200 dark:saturate-[0.8] saturate-[1.2] shadow-xl -outline-offset-[12px] w-full bg-black bg-center bg-cover flex items-center justify-center"
  style=`background-image: url('${fireworksNewyear.src}');`
>
    <div class="counter text-white flex flex-col w-full gap-2 inset-0 m-5 rounded-xl *:bg-gray-950/20 *:backdrop-blur-[2px] font-bold">
         <div class="flex flex-col items-center p-7 rounded-xl gap-1 counterAñoNuevo">
            <h4 class="text-2xl md:text-xl  xl:text-3xl text-nowrap">TAN SOLO <span class="text-orange-500">FALTAN</span></h4>
            <p id="counterAñoNuevo" class="text-4xl xl:text-5xl text-center text-nowrap">0 dias <br class="md:hidden"/><span>00</span>:<span>00</span>:<span>00</span></p>
            <h4 class="text-2xl md:text-xl xl:text-3xl ">PARA <span class="text-orange-500">AÑO NUEVO</span></h4>
        </div> 
    </div> 
</div>

</div>

<style>
  .counter {
  text-shadow:
    1px 1px 0 #00000070,
    -1px 1px 0 #00000070,
    -1px -1px 0 #00000070,
    1px -1px 0 #00000070;
  }
</style>

<script>
    // Fecha objetivo 
    const targetDateChristmas = new Date('December 25, 2024 00:00:00').getTime();
    const targetDateNewYear = new Date('January 01, 2025 00:00:00').getTime();

    // Función que actualiza el contador
    function updateCountdown(targetDate, textEnd, idElement) {
      const now = new Date().getTime();
      const timeLeft = targetDate - now;

      if (timeLeft > 0) {
        const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
        const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);

        document.getElementById(idElement).innerHTML = `
          ${days} dias <br class="lg:hidden"/> ${hours}h:${minutes}m:${seconds}s
        `;
      } else {
        document.getElementById(idElement).innerHTML = textEnd;
        document.querySelectorAll(`.${idElement} h4`).forEach(element => {
          element.classList.add('invisible')
        });
        clearInterval(countdownInterval); // Detener el contador
      }
    }

    // Actualizar el contador cada segundo
    const countdownInterval = setInterval(() => {
        updateCountdown(targetDateChristmas, '¡Feliz Navidad!', 'counterNavidad');
        updateCountdown(targetDateNewYear, '¡Feliz Año Nuevo!', 'counterAñoNuevo');
    }, 1000);
  </script>